<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>cells.cellattr</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar"
        href="cells-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar"
        href="trees.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar"
        href="indices.html">Index</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar"
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="cells-module.html">Package&nbsp;cells</a> ::
        Module&nbsp;cellattr
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript: void(0);" class="privatelink"
    onclick="toggle_private();">hide private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="cells.cellattr-pysrc.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<h2 class="py-src">Source Code for <a href="cells.cellattr-module.html">Module cells.cellattr</a></h2>
<div class="py-src">
<pre class="py-src">
<span class="lineno">  1</span>  <span class="py-line"><span class="py-comment"># PyCells: Automatic dataflow management for Python</span> </span>
<span class="lineno">  2</span>  <span class="py-line"><span class="py-comment"></span><span class="py-comment"># Copyright (C) 2006, Ryan Forsythe</span> </span>
<span class="lineno">  3</span>  <span class="py-line"><span class="py-comment"></span> </span>
<span class="lineno">  4</span>  <span class="py-line"><span class="py-comment"># This library is free software; you can redistribute it and/or</span> </span>
<span class="lineno">  5</span>  <span class="py-line"><span class="py-comment"></span><span class="py-comment"># modify it under the terms of the GNU Lesser General Public</span> </span>
<span class="lineno">  6</span>  <span class="py-line"><span class="py-comment"></span><span class="py-comment"># License as published by the Free Software Foundation; either</span> </span>
<span class="lineno">  7</span>  <span class="py-line"><span class="py-comment"></span><span class="py-comment"># version 2.1 of the License, or (at your option) any later version.</span> </span>
<span class="lineno">  8</span>  <span class="py-line"><span class="py-comment"></span><span class="py-comment"># See LICENSE for the full license text.</span> </span>
<span class="lineno">  9</span>  <span class="py-line"><span class="py-comment"></span> </span>
<span class="lineno"> 10</span>  <span class="py-line"><span class="py-comment"># This library is distributed in the hope that it will be useful,</span> </span>
<span class="lineno"> 11</span>  <span class="py-line"><span class="py-comment"></span><span class="py-comment"># but WITHOUT ANY WARRANTY; without even the implied warranty of</span> </span>
<span class="lineno"> 12</span>  <span class="py-line"><span class="py-comment"></span><span class="py-comment"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span> </span>
<span class="lineno"> 13</span>  <span class="py-line"><span class="py-comment"></span><span class="py-comment"># Lesser General Public License for more details.</span> </span>
<span class="lineno"> 14</span>  <span class="py-line"><span class="py-comment"></span> </span>
<span class="lineno"> 15</span>  <span class="py-line"><span class="py-comment"># You should have received a copy of the GNU Lesser General Public</span> </span>
<span class="lineno"> 16</span>  <span class="py-line"><span class="py-comment"></span><span class="py-comment"># License along with this library; if not, write to the Free Software</span> </span>
<span class="lineno"> 17</span>  <span class="py-line"><span class="py-comment"></span><span class="py-comment"># Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA</span> </span>
<span class="lineno"> 18</span>  <span class="py-line"><span class="py-comment"></span> </span>
<span class="lineno"> 19</span>  <span class="py-line"><span class="py-docstring">"""</span> </span>
<span class="lineno"> 20</span>  <span class="py-line"><span class="py-docstring">CellAttr, a wrapper for C{L{Cell}} objects within C{L{Models}}</span> </span>
<span class="lineno"> 21</span>  <span class="py-line"><span class="py-docstring"></span> </span>
<span class="lineno"> 22</span>  <span class="py-line"><span class="py-docstring">@var DEBUG: Turns on debugging messages for the cellattr module.</span> </span>
<span class="lineno"> 23</span>  <span class="py-line"><span class="py-docstring">"""</span> </span>
<span class="lineno"> 24</span>  <span class="py-line"> </span>
<span class="lineno"> 25</span>  <span class="py-line"><span class="py-keyword">import</span> <a class="py-name" href="cells-module.html">cells</a> </span>
<span class="lineno"> 26</span>  <span class="py-line"><span class="py-keyword">from</span> <a title="cells.cell" class="py-name" href="cells.cell-module.html">cell</a> <span class="py-keyword">import</span> <span class="py-name">Cell</span><span class="py-op">,</span> <a class="py-name" href="cells.cell.RuleCell-class.html">RuleCell</a><span class="py-op">,</span> <a class="py-name" href="cells.cell.InputCell-class.html">InputCell</a> </span>
<span class="lineno"> 27</span>  <span class="py-line"> </span>
<span class="lineno"> 28</span>  <span class="py-line"><a class="py-name" href="cells.cellattr-module.html#DEBUG">DEBUG</a> <span class="py-op">=</span> <span class="py-name">False</span> </span>
<span class="lineno"> 29</span>  <span class="py-line"> </span>
<a name="debug"></a><div id="debug-def"><span class="lineno"> 30</span> <a class="pysrc-toggle" href="#" id="debug-toggle" onclick="toggle('debug'); return false;">-</a><span class="py-line"><span class="py-keyword">def</span> <a class="py-def-name" href="cells.cellattr-module.html#debug">debug</a><span class="py-op">(</span><span class="py-op">*</span><span class="py-param">msgs</span><span class="py-op">)</span><span class="py-op">:</span> </span>
</div><div id="debug-collapsed" style="display:none;" pad="+++" indent="++++"></div><div id="debug-expanded"><span class="lineno"> 31</span>  <span class="py-line">    <span class="py-docstring">"""</span> </span>
<span class="lineno"> 32</span>  <span class="py-line"><span class="py-docstring">    debug() -&gt; None</span> </span>
<span class="lineno"> 33</span>  <span class="py-line"><span class="py-docstring"></span> </span>
<span class="lineno"> 34</span>  <span class="py-line"><span class="py-docstring">    Prints debug messages.</span> </span>
<span class="lineno"> 35</span>  <span class="py-line"><span class="py-docstring">    """</span> </span>
<span class="lineno"> 36</span>  <span class="py-line">    <span class="py-name">msgs</span> <span class="py-op">=</span> <span class="py-name">list</span><span class="py-op">(</span><span class="py-name">msgs</span><span class="py-op">)</span> </span>
<span class="lineno"> 37</span>  <span class="py-line">    <span class="py-name">msgs</span><span class="py-op">.</span><span class="py-name">insert</span><span class="py-op">(</span><span class="py-number">0</span><span class="py-op">,</span> <span class="py-string">"cell attr"</span><span class="py-op">.</span><span class="py-name">rjust</span><span class="py-op">(</span><a title="cells" class="py-name" href="cells-module.html">cells</a><span class="py-op">.</span><a title="cells._DECO_OFFSET" class="py-name" href="cells-module.html#_DECO_OFFSET">_DECO_OFFSET</a><span class="py-op">)</span> <span class="py-op">+</span> <span class="py-string">" &gt; "</span><span class="py-op">)</span> </span>
<span class="lineno"> 38</span>  <span class="py-line">    <span class="py-keyword">if</span> <span id="link-0" class="py-name"><a title="cells.DEBUG
cells.cell.DEBUG
cells.cellattr.DEBUG
cells.family.DEBUG
cells.model.DEBUG
cells.observer.DEBUG
cells.synapse.DEBUG" class="py-name" href="#" onclick="doclink('link-0', 'DEBUG', 'Variable DEBUG=cells-module.html#DEBUG,Variable cell.DEBUG=cells.cell-module.html#DEBUG,Variable DEBUG=cells.cellattr-module.html#DEBUG,Variable family.DEBUG=cells.family-module.html#DEBUG,Variable model.DEBUG=cells.model-module.html#DEBUG,Variable observer.DEBUG=cells.observer-module.html#DEBUG,Variable synapse.DEBUG=cells.synapse-module.html#DEBUG'); return false;">DEBUG</a></span></span> <span class="py-keyword">or</span> <a title="cells" class="py-name" href="cells-module.html">cells</a><span class="py-op">.</span><span id="link-1" class="py-name"><a title="cells.DEBUG
cells.cell.DEBUG
cells.cellattr.DEBUG
cells.family.DEBUG
cells.model.DEBUG
cells.observer.DEBUG
cells.synapse.DEBUG" class="py-name" href="#" onclick="doclink('link-1', 'DEBUG', 'Variable DEBUG=cells-module.html#DEBUG,Variable cell.DEBUG=cells.cell-module.html#DEBUG,Variable DEBUG=cells.cellattr-module.html#DEBUG,Variable family.DEBUG=cells.family-module.html#DEBUG,Variable model.DEBUG=cells.model-module.html#DEBUG,Variable observer.DEBUG=cells.observer-module.html#DEBUG,Variable synapse.DEBUG=cells.synapse-module.html#DEBUG'); return false;">DEBUG</a></span></span><span class="py-op">:</span> </span>
<span class="lineno"> 39</span>  <span class="py-line">        <span class="py-keyword">print</span> <span class="py-string">" "</span><span class="py-op">.</span><span class="py-name">join</span><span class="py-op">(</span><span class="py-name">msgs</span><span class="py-op">)</span> </span>
</div><span class="lineno"> 40</span>  <span class="py-line"> </span>
<span class="lineno"> 41</span>  <span class="py-line"> </span>
<a name="CellAttr"></a><div id="CellAttr-def"><span class="lineno"> 42</span> <a class="pysrc-toggle" href="#" id="CellAttr-toggle" onclick="toggle('CellAttr'); return false;">-</a><span class="py-line"><span class="py-keyword">class</span> <a class="py-def-name" href="cells.cellattr.CellAttr-class.html">CellAttr</a><span class="py-op">(</span><span class="py-base-class">object</span><span class="py-op">)</span><span class="py-op">:</span> </span>
</div><div id="CellAttr-collapsed" style="display:none;" pad="+++" indent="++++"></div><div id="CellAttr-expanded"><span class="lineno"> 43</span>  <span class="py-line">    <span class="py-docstring">"""</span> </span>
<span class="lineno"> 44</span>  <span class="py-line"><span class="py-docstring">    CellAttr</span> </span>
<span class="lineno"> 45</span>  <span class="py-line"><span class="py-docstring"></span> </span>
<span class="lineno"> 46</span>  <span class="py-line"><span class="py-docstring">    A descriptor which auto-vivifies a new Cell in each instance of a</span> </span>
<span class="lineno"> 47</span>  <span class="py-line"><span class="py-docstring">    Model, and which does the hiding of C{Cell.L{get}()} and</span> </span>
<span class="lineno"> 48</span>  <span class="py-line"><span class="py-docstring">    C{Cell.L{set}()}.</span> </span>
<span class="lineno"> 49</span>  <span class="py-line"><span class="py-docstring">    """</span> </span>
<span class="lineno"> 50</span>  <span class="py-line">    <span class="py-comment"># kid_overrides is essentially internal, so it's hidden from the</span> </span>
<span class="lineno"> 51</span>  <span class="py-line"><span class="py-comment"></span>    <span class="py-comment"># documentation</span> </span>
<a name="CellAttr.__init__"></a><div id="CellAttr.__init__-def"><span class="lineno"> 52</span> <a class="pysrc-toggle" href="#" id="CellAttr.__init__-toggle" onclick="toggle('CellAttr.__init__'); return false;">-</a><span class="py-line"><span class="py-comment"></span>    <span class="py-keyword">def</span> <a class="py-def-name" href="cells.cellattr.CellAttr-class.html#__init__">__init__</a><span class="py-op">(</span><span class="py-param">self</span><span class="py-op">,</span> <span class="py-param">kid_overrides</span><span class="py-op">=</span><span class="py-name">True</span><span class="py-op">,</span> <span class="py-op">*</span><span class="py-param">args</span><span class="py-op">,</span> <span class="py-op">**</span><span class="py-param">kwargs</span><span class="py-op">)</span><span class="py-op">:</span> </span>
</div><div id="CellAttr.__init__-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="CellAttr.__init__-expanded"><span class="lineno"> 53</span>  <span class="py-line">        <span class="py-docstring">"""</span> </span>
<span class="lineno"> 54</span>  <span class="py-line"><span class="py-docstring">        __init__(self, rule=None, value=None, unchanged_if=None, celltype=None)</span> </span>
<span class="lineno"> 55</span>  <span class="py-line"><span class="py-docstring"></span> </span>
<span class="lineno"> 56</span>  <span class="py-line"><span class="py-docstring">        Sets the parameters which will be used as defaults to build a</span> </span>
<span class="lineno"> 57</span>  <span class="py-line"><span class="py-docstring">        Cell when the time comes. </span> </span>
<span class="lineno"> 58</span>  <span class="py-line"><span class="py-docstring"></span> </span>
<span class="lineno"> 59</span>  <span class="py-line"><span class="py-docstring">        @param rule: Define a rule which backs this cell. You must</span> </span>
<span class="lineno"> 60</span>  <span class="py-line"><span class="py-docstring">            only define one of C{rule} or C{value}. Lacking C{celltype},</span> </span>
<span class="lineno"> 61</span>  <span class="py-line"><span class="py-docstring">            this creates a L{RuleCell}.  This must be passed a</span> </span>
<span class="lineno"> 62</span>  <span class="py-line"><span class="py-docstring">            callable with the signature C{f(self, prev) -&gt; value},</span> </span>
<span class="lineno"> 63</span>  <span class="py-line"><span class="py-docstring">            where C{self} is the model instance the cell is in and</span> </span>
<span class="lineno"> 64</span>  <span class="py-line"><span class="py-docstring">            C{prev} is the cell's out-of-date value.</span> </span>
<span class="lineno"> 65</span>  <span class="py-line"><span class="py-docstring"></span> </span>
<span class="lineno"> 66</span>  <span class="py-line"><span class="py-docstring">        @param value: Define a value for this cell. You must only</span> </span>
<span class="lineno"> 67</span>  <span class="py-line"><span class="py-docstring">            define one of C{rule} or C{value}. Lacking C{celltype}, this</span> </span>
<span class="lineno"> 68</span>  <span class="py-line"><span class="py-docstring">            creates an L{InputCell}.</span> </span>
<span class="lineno"> 69</span>  <span class="py-line"><span class="py-docstring"></span> </span>
<span class="lineno"> 70</span>  <span class="py-line"><span class="py-docstring">        @param unchanged_if: Sets a function to determine if a cell's</span> </span>
<span class="lineno"> 71</span>  <span class="py-line"><span class="py-docstring">            value has changed. The signature for the passed function</span> </span>
<span class="lineno"> 72</span>  <span class="py-line"><span class="py-docstring">            is C{f(old, new) -&gt; bool}.</span> </span>
<span class="lineno"> 73</span>  <span class="py-line"><span class="py-docstring">            </span> </span>
<span class="lineno"> 74</span>  <span class="py-line"><span class="py-docstring">        @param celltype: Set the cell type to generate. You must pass</span> </span>
<span class="lineno"> 75</span>  <span class="py-line"><span class="py-docstring">            C{rule} or C{value} correctly. Refer to L{cells.cell} for</span> </span>
<span class="lineno"> 76</span>  <span class="py-line"><span class="py-docstring">            available types.</span> </span>
<span class="lineno"> 77</span>  <span class="py-line"><span class="py-docstring">        """</span> </span>
<span class="lineno"> 78</span>  <span class="py-line">        <span class="py-name">self</span><span class="py-op">.</span><span class="py-name">kid_overrides</span> <span class="py-op">=</span> <span class="py-name">kid_overrides</span> </span>
<span class="lineno"> 79</span>  <span class="py-line">        <span class="py-name">self</span><span class="py-op">.</span><span class="py-name">args</span> <span class="py-op">=</span> <span class="py-name">args</span> </span>
<span class="lineno"> 80</span>  <span class="py-line">        <span class="py-name">self</span><span class="py-op">.</span><span class="py-name">kwargs</span> <span class="py-op">=</span> <span class="py-name">kwargs</span> </span>
</div><span class="lineno"> 81</span>  <span class="py-line"> </span>
<a name="CellAttr.__set__"></a><div id="CellAttr.__set__-def"><span class="lineno"> 82</span> <a class="pysrc-toggle" href="#" id="CellAttr.__set__-toggle" onclick="toggle('CellAttr.__set__'); return false;">-</a><span class="py-line">    <span class="py-keyword">def</span> <a class="py-def-name" href="cells.cellattr.CellAttr-class.html#__set__">__set__</a><span class="py-op">(</span><span class="py-param">self</span><span class="py-op">,</span> <span class="py-param">owner</span><span class="py-op">,</span> <span class="py-param">value</span><span class="py-op">)</span><span class="py-op">:</span> </span>
</div><div id="CellAttr.__set__-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="CellAttr.__set__-expanded"><span class="lineno"> 83</span>  <span class="py-line">        <span class="py-docstring">"""</span> </span>
<span class="lineno"> 84</span>  <span class="py-line"><span class="py-docstring">        __set__(self, owner, value) -&gt; None</span> </span>
<span class="lineno"> 85</span>  <span class="py-line"><span class="py-docstring"></span> </span>
<span class="lineno"> 86</span>  <span class="py-line"><span class="py-docstring">        Runs C{L{set}(value)} on the Cell in C{owner}.</span> </span>
<span class="lineno"> 87</span>  <span class="py-line"><span class="py-docstring"></span> </span>
<span class="lineno"> 88</span>  <span class="py-line"><span class="py-docstring">        @param owner: The Model instance in which to look for the Cell</span> </span>
<span class="lineno"> 89</span>  <span class="py-line"><span class="py-docstring">            to run C{L{set}()} on.</span> </span>
<span class="lineno"> 90</span>  <span class="py-line"><span class="py-docstring"></span> </span>
<span class="lineno"> 91</span>  <span class="py-line"><span class="py-docstring">        @param value: The value to set</span> </span>
<span class="lineno"> 92</span>  <span class="py-line"><span class="py-docstring">        """</span> </span>
<span class="lineno"> 93</span>  <span class="py-line">        <span class="py-name">self</span><span class="py-op">.</span><a title="cells.cellattr.CellAttr.getcell" class="py-name" href="cells.cellattr.CellAttr-class.html#getcell">getcell</a><span class="py-op">(</span><span class="py-name">owner</span><span class="py-op">)</span><span class="py-op">.</span><a title="cells.cell.RuleCell.set" class="py-name" href="cells.cell.RuleCell-class.html#set">set</a><span class="py-op">(</span><span class="py-name">value</span><span class="py-op">)</span> </span>
</div><span class="lineno"> 94</span>  <span class="py-line">         </span>
<a name="CellAttr.__get__"></a><div id="CellAttr.__get__-def"><span class="lineno"> 95</span> <a class="pysrc-toggle" href="#" id="CellAttr.__get__-toggle" onclick="toggle('CellAttr.__get__'); return false;">-</a><span class="py-line">    <span class="py-keyword">def</span> <a class="py-def-name" href="cells.cellattr.CellAttr-class.html#__get__">__get__</a><span class="py-op">(</span><span class="py-param">self</span><span class="py-op">,</span> <span class="py-param">owner</span><span class="py-op">,</span> <span class="py-param">ownertype</span><span class="py-op">)</span><span class="py-op">:</span> </span>
</div><div id="CellAttr.__get__-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="CellAttr.__get__-expanded"><span class="lineno"> 96</span>  <span class="py-line">        <span class="py-docstring">"""</span> </span>
<span class="lineno"> 97</span>  <span class="py-line"><span class="py-docstring">        __get__(self, owner, ownertype) -&gt; value</span> </span>
<span class="lineno"> 98</span>  <span class="py-line"><span class="py-docstring"></span> </span>
<span class="lineno"> 99</span>  <span class="py-line"><span class="py-docstring">        Runs C{L{get}()} on the Cell in C{owner}, if C{owner} is</span> </span>
<span class="lineno">100</span>  <span class="py-line"><span class="py-docstring">        passed. Otherwise, return C{self}.</span> </span>
<span class="lineno">101</span>  <span class="py-line"><span class="py-docstring"></span> </span>
<span class="lineno">102</span>  <span class="py-line"><span class="py-docstring">        @param owner: The Model instance in which to look for the Cell</span> </span>
<span class="lineno">103</span>  <span class="py-line"><span class="py-docstring">            to run C{L{get}()} on .</span> </span>
<span class="lineno">104</span>  <span class="py-line"><span class="py-docstring"></span> </span>
<span class="lineno">105</span>  <span class="py-line"><span class="py-docstring">        @param ownertype: (unused)</span> </span>
<span class="lineno">106</span>  <span class="py-line"><span class="py-docstring">        """</span> </span>
<span class="lineno">107</span>  <span class="py-line">        <span class="py-keyword">if</span> <span class="py-keyword">not</span> <span class="py-name">owner</span><span class="py-op">:</span> <span class="py-keyword">return</span> <span class="py-name">self</span> </span>
<span class="lineno">108</span>  <span class="py-line">        <span class="py-comment"># return the value in owner.myname</span> </span>
<span class="lineno">109</span>  <span class="py-line"><span class="py-comment"></span>        <span class="py-keyword">return</span> <span class="py-name">self</span><span class="py-op">.</span><a title="cells.cellattr.CellAttr.getcell" class="py-name" href="cells.cellattr.CellAttr-class.html#getcell">getcell</a><span class="py-op">(</span><span class="py-name">owner</span><span class="py-op">)</span><span class="py-op">.</span><a title="cells.cell.UntilAskedLazyCell.get" class="py-name" href="cells.cell.UntilAskedLazyCell-class.html#get">get</a><span class="py-op">(</span><span class="py-op">)</span> </span>
</div><span class="lineno">110</span>  <span class="py-line">         </span>
<a name="CellAttr.getcell"></a><div id="CellAttr.getcell-def"><span class="lineno">111</span> <a class="pysrc-toggle" href="#" id="CellAttr.getcell-toggle" onclick="toggle('CellAttr.getcell'); return false;">-</a><span class="py-line">    <span class="py-keyword">def</span> <a class="py-def-name" href="cells.cellattr.CellAttr-class.html#getcell">getcell</a><span class="py-op">(</span><span class="py-param">self</span><span class="py-op">,</span> <span class="py-param">owner</span><span class="py-op">)</span><span class="py-op">:</span> </span>
</div><div id="CellAttr.getcell-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="CellAttr.getcell-expanded"><span class="lineno">112</span>  <span class="py-line">        <span class="py-docstring">"""</span> </span>
<span class="lineno">113</span>  <span class="py-line"><span class="py-docstring">        getcell(owner) -&gt; Cell</span> </span>
<span class="lineno">114</span>  <span class="py-line"><span class="py-docstring"></span> </span>
<span class="lineno">115</span>  <span class="py-line"><span class="py-docstring">        Return the instance of this CellAttr's Cell in C{owner}. If an</span> </span>
<span class="lineno">116</span>  <span class="py-line"><span class="py-docstring">        instance of the CellAttr's Cell doesn't exist in C{owner},</span> </span>
<span class="lineno">117</span>  <span class="py-line"><span class="py-docstring">        first insert an instance into C{owner}, then return it. To</span> </span>
<span class="lineno">118</span>  <span class="py-line"><span class="py-docstring">        build it, first examine the C{owner} for runtime overrides of</span> </span>
<span class="lineno">119</span>  <span class="py-line"><span class="py-docstring">        this cell, and use those (if they exist) as parameters to</span> </span>
<span class="lineno">120</span>  <span class="py-line"><span class="py-docstring">        C{L{buildcell}}.</span> </span>
<span class="lineno">121</span>  <span class="py-line"><span class="py-docstring"></span> </span>
<span class="lineno">122</span>  <span class="py-line"><span class="py-docstring">        @param owner: The Model instance in which to look for the Cell.</span> </span>
<span class="lineno">123</span>  <span class="py-line"><span class="py-docstring">        """</span> </span>
<span class="lineno">124</span>  <span class="py-line">        <span class="py-comment"># if there isn't a value in owner.myname, make it a cell</span> </span>
<span class="lineno">125</span>  <span class="py-line"><span class="py-comment"></span>        <span id="link-2" class="py-name"><a title="cells.cellattr.debug
cells.family.debug
cells.model.debug
cells.synapse.debug" class="py-name" href="#" onclick="doclink('link-2', 'debug', 'Function debug()=cells.cellattr-module.html#debug,Function family.debug()=cells.family-module.html#debug,Function model.debug()=cells.model-module.html#debug,Function synapse.debug()=cells.synapse-module.html#debug'); return false;">debug</a></span></span><span class="py-op">(</span><span class="py-string">"got request for cell in"</span><span class="py-op">,</span> <span class="py-name">self</span><span class="py-op">.</span><span class="py-name">name</span><span class="py-op">)</span> </span>
<span class="lineno">126</span>  <span class="py-line">        <span class="py-keyword">if</span> <span class="py-name">self</span><span class="py-op">.</span><span class="py-name">name</span> <span class="py-keyword">not</span> <span class="py-keyword">in</span> <span class="py-name">owner</span><span class="py-op">.</span><span class="py-name">__dict__</span><span class="py-op">.</span><span class="py-name">keys</span><span class="py-op">(</span><span class="py-op">)</span><span class="py-op">:</span> </span>
<span class="lineno">127</span>  <span class="py-line">            <span class="py-comment"># first, find out if this object has overrides on this cell's init</span> </span>
<span class="lineno">128</span>  <span class="py-line"><span class="py-comment"></span>            <span class="py-name">override</span> <span class="py-op">=</span> <span class="py-name">owner</span><span class="py-op">.</span><span class="py-name">_initregistry</span><span class="py-op">.</span><a title="cells.cell.UntilAskedLazyCell.get" class="py-name" href="cells.cell.UntilAskedLazyCell-class.html#get">get</a><span class="py-op">(</span><span class="py-name">self</span><span class="py-op">.</span><span class="py-name">name</span><span class="py-op">)</span> </span>
<span class="lineno">129</span>  <span class="py-line">            <span class="py-keyword">if</span> <span class="py-name">override</span><span class="py-op">:</span>                <span class="py-comment"># it does, use the override</span> </span>
<span class="lineno">130</span>  <span class="py-line">                <span class="py-name">newkwargs</span> <span class="py-op">=</span> <span class="py-name">self</span><span class="py-op">.</span><span class="py-name">kwargs</span><span class="py-op">.</span><span class="py-name">copy</span><span class="py-op">(</span><span class="py-op">)</span> </span>
<span class="lineno">131</span>  <span class="py-line">                <span class="py-name">newkwargs</span><span class="py-op">.</span><span class="py-name">update</span><span class="py-op">(</span><span class="py-name">override</span><span class="py-op">)</span> </span>
<span class="lineno">132</span>  <span class="py-line">                <span class="py-name">newcell</span> <span class="py-op">=</span> <span class="py-name">self</span><span class="py-op">.</span><a title="cells.cellattr.CellAttr.buildcell" class="py-name" href="cells.cellattr.CellAttr-class.html#buildcell">buildcell</a><span class="py-op">(</span><span class="py-name">owner</span><span class="py-op">,</span> <span class="py-op">*</span><span class="py-name">self</span><span class="py-op">.</span><span class="py-name">args</span><span class="py-op">,</span> <span class="py-op">**</span><span class="py-name">newkwargs</span><span class="py-op">)</span> </span>
<span class="lineno">133</span>  <span class="py-line">            <span class="py-keyword">else</span><span class="py-op">:</span>                       <span class="py-comment"># it doesn't, use class's default</span> </span>
<span class="lineno">134</span>  <span class="py-line">                <span class="py-name">newcell</span> <span class="py-op">=</span> <span class="py-name">self</span><span class="py-op">.</span><a title="cells.cellattr.CellAttr.buildcell" class="py-name" href="cells.cellattr.CellAttr-class.html#buildcell">buildcell</a><span class="py-op">(</span><span class="py-name">owner</span><span class="py-op">,</span> <span class="py-op">*</span><span class="py-name">self</span><span class="py-op">.</span><span class="py-name">args</span><span class="py-op">,</span> <span class="py-op">**</span><span class="py-name">self</span><span class="py-op">.</span><span class="py-name">kwargs</span><span class="py-op">)</span> </span>
<span class="lineno">135</span>  <span class="py-line">                 </span>
<span class="lineno">136</span>  <span class="py-line">            <span class="py-name">owner</span><span class="py-op">.</span><span class="py-name">__dict__</span><span class="py-op">[</span><span class="py-name">self</span><span class="py-op">.</span><span class="py-name">name</span><span class="py-op">]</span> <span class="py-op">=</span> <span class="py-name">newcell</span> </span>
<span class="lineno">137</span>  <span class="py-line"> </span>
<span class="lineno">138</span>  <span class="py-line">            <span class="py-comment"># observers have to be run *after* the cell is embedded in the</span> </span>
<span class="lineno">139</span>  <span class="py-line"><span class="py-comment"></span>            <span class="py-comment"># instance!</span> </span>
<span class="lineno">140</span>  <span class="py-line"><span class="py-comment"></span>            <span class="py-name">owner</span><span class="py-op">.</span><a title="cells.model.Model._run_observers" class="py-name" href="cells.model.Model-class.html#_run_observers">_run_observers</a><span class="py-op">(</span><span class="py-name">newcell</span><span class="py-op">)</span> </span>
<span class="lineno">141</span>  <span class="py-line"> </span>
<span class="lineno">142</span>  <span class="py-line"> </span>
<span class="lineno">143</span>  <span class="py-line">        <span id="link-3" class="py-name"><a title="cells.cellattr.debug
cells.family.debug
cells.model.debug
cells.synapse.debug" class="py-name" href="#" onclick="doclink('link-3', 'debug', 'Function debug()=cells.cellattr-module.html#debug,Function family.debug()=cells.family-module.html#debug,Function model.debug()=cells.model-module.html#debug,Function synapse.debug()=cells.synapse-module.html#debug'); return false;">debug</a></span></span><span class="py-op">(</span><span class="py-string">"finished getting"</span><span class="py-op">,</span> <span class="py-name">self</span><span class="py-op">.</span><span class="py-name">name</span><span class="py-op">)</span> </span>
<span class="lineno">144</span>  <span class="py-line">        <span class="py-keyword">return</span> <span class="py-name">owner</span><span class="py-op">.</span><span class="py-name">__dict__</span><span class="py-op">[</span><span class="py-name">self</span><span class="py-op">.</span><span class="py-name">name</span><span class="py-op">]</span> </span>
</div><span class="lineno">145</span>  <span class="py-line"> </span>
<a name="CellAttr.buildcell"></a><div id="CellAttr.buildcell-def"><span class="lineno">146</span> <a class="pysrc-toggle" href="#" id="CellAttr.buildcell-toggle" onclick="toggle('CellAttr.buildcell'); return false;">-</a><span class="py-line">    <span class="py-keyword">def</span> <a class="py-def-name" href="cells.cellattr.CellAttr-class.html#buildcell">buildcell</a><span class="py-op">(</span><span class="py-param">self</span><span class="py-op">,</span> <span class="py-param">owner</span><span class="py-op">,</span> <span class="py-op">*</span><span class="py-param">args</span><span class="py-op">,</span> <span class="py-op">**</span><span class="py-param">kwargs</span><span class="py-op">)</span><span class="py-op">:</span> </span>
</div><div id="CellAttr.buildcell-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="CellAttr.buildcell-expanded"><span class="lineno">147</span>  <span class="py-line">        <span class="py-docstring">"""</span> </span>
<span class="lineno">148</span>  <span class="py-line"><span class="py-docstring">        buildcell(self, owner, rule=None, value=None, celltype=None,</span> </span>
<span class="lineno">149</span>  <span class="py-line"><span class="py-docstring">        unchanged_if=None) -&gt; Cell</span> </span>
<span class="lineno">150</span>  <span class="py-line"><span class="py-docstring"></span> </span>
<span class="lineno">151</span>  <span class="py-line"><span class="py-docstring">        Builds an instance of a Cell into C{owner}. Will automatically</span> </span>
<span class="lineno">152</span>  <span class="py-line"><span class="py-docstring">        create the right type of Cell given the keyword arguments if</span> </span>
<span class="lineno">153</span>  <span class="py-line"><span class="py-docstring">        C{celltype} is not passed</span> </span>
<span class="lineno">154</span>  <span class="py-line"><span class="py-docstring"></span> </span>
<span class="lineno">155</span>  <span class="py-line"><span class="py-docstring">        @param owner: The Model instance in which to build the Cell.</span> </span>
<span class="lineno">156</span>  <span class="py-line"><span class="py-docstring">        </span> </span>
<span class="lineno">157</span>  <span class="py-line"><span class="py-docstring">        @param rule: Define a rule which backs this cell. You must</span> </span>
<span class="lineno">158</span>  <span class="py-line"><span class="py-docstring">            only define one of C{rule} or C{value}. Lacking C{celltype},</span> </span>
<span class="lineno">159</span>  <span class="py-line"><span class="py-docstring">            this creates a L{RuleCell}.  This must be passed a</span> </span>
<span class="lineno">160</span>  <span class="py-line"><span class="py-docstring">            callable with the signature C{f(self, prev) -&gt; value},</span> </span>
<span class="lineno">161</span>  <span class="py-line"><span class="py-docstring">            where C{self} is the model instance the cell is in and</span> </span>
<span class="lineno">162</span>  <span class="py-line"><span class="py-docstring">            C{prev} is the cell's out-of-date value.</span> </span>
<span class="lineno">163</span>  <span class="py-line"><span class="py-docstring"></span> </span>
<span class="lineno">164</span>  <span class="py-line"><span class="py-docstring">        @param value: Define a value for this cell. You must only</span> </span>
<span class="lineno">165</span>  <span class="py-line"><span class="py-docstring">            define one of C{rule} or C{value}. Lacking C{celltype}, this</span> </span>
<span class="lineno">166</span>  <span class="py-line"><span class="py-docstring">            creates an L{InputCell}.</span> </span>
<span class="lineno">167</span>  <span class="py-line"><span class="py-docstring"></span> </span>
<span class="lineno">168</span>  <span class="py-line"><span class="py-docstring">        @param unchanged_if: Sets a function to determine if a cell's</span> </span>
<span class="lineno">169</span>  <span class="py-line"><span class="py-docstring">            value has changed. The signature for the passed function</span> </span>
<span class="lineno">170</span>  <span class="py-line"><span class="py-docstring">            is C{f(old, new) -&gt; bool}.</span> </span>
<span class="lineno">171</span>  <span class="py-line"><span class="py-docstring">            </span> </span>
<span class="lineno">172</span>  <span class="py-line"><span class="py-docstring">        @param celltype: Set the cell type to generate. You must pass</span> </span>
<span class="lineno">173</span>  <span class="py-line"><span class="py-docstring">            C{rule} or C{value} correctly. Refer to L{cells.cell} for</span> </span>
<span class="lineno">174</span>  <span class="py-line"><span class="py-docstring">            available types.</span> </span>
<span class="lineno">175</span>  <span class="py-line"><span class="py-docstring">        """</span> </span>
<span class="lineno">176</span>  <span class="py-line">         </span>
<span class="lineno">177</span>  <span class="py-line">        <span class="py-string">"""Creates a new cell of the appropriate type"""</span> </span>
<span class="lineno">178</span>  <span class="py-line">        <span id="link-4" class="py-name"><a title="cells.cellattr.debug
cells.family.debug
cells.model.debug
cells.synapse.debug" class="py-name" href="#" onclick="doclink('link-4', 'debug', 'Function debug()=cells.cellattr-module.html#debug,Function family.debug()=cells.family-module.html#debug,Function model.debug()=cells.model-module.html#debug,Function synapse.debug()=cells.synapse-module.html#debug'); return false;">debug</a></span></span><span class="py-op">(</span><span class="py-string">"Building cell: owner:"</span><span class="py-op">,</span> <span class="py-name">str</span><span class="py-op">(</span><span class="py-name">owner</span><span class="py-op">)</span><span class="py-op">)</span> </span>
<span class="lineno">179</span>  <span class="py-line">        <span id="link-5" class="py-name"><a title="cells.cellattr.debug
cells.family.debug
cells.model.debug
cells.synapse.debug" class="py-name" href="#" onclick="doclink('link-5', 'debug', 'Function debug()=cells.cellattr-module.html#debug,Function family.debug()=cells.family-module.html#debug,Function model.debug()=cells.model-module.html#debug,Function synapse.debug()=cells.synapse-module.html#debug'); return false;">debug</a></span></span><span class="py-op">(</span><span class="py-string">"                name:"</span><span class="py-op">,</span> <span class="py-name">self</span><span class="py-op">.</span><span class="py-name">name</span><span class="py-op">)</span> </span>
<span class="lineno">180</span>  <span class="py-line">        <span id="link-6" class="py-name"><a title="cells.cellattr.debug
cells.family.debug
cells.model.debug
cells.synapse.debug" class="py-name" href="#" onclick="doclink('link-6', 'debug', 'Function debug()=cells.cellattr-module.html#debug,Function family.debug()=cells.family-module.html#debug,Function model.debug()=cells.model-module.html#debug,Function synapse.debug()=cells.synapse-module.html#debug'); return false;">debug</a></span></span><span class="py-op">(</span><span class="py-string">"                args:"</span><span class="py-op">,</span> <span class="py-name">str</span><span class="py-op">(</span><span class="py-name">args</span><span class="py-op">)</span><span class="py-op">)</span> </span>
<span class="lineno">181</span>  <span class="py-line">        <span id="link-7" class="py-name"><a title="cells.cellattr.debug
cells.family.debug
cells.model.debug
cells.synapse.debug" class="py-name" href="#" onclick="doclink('link-7', 'debug', 'Function debug()=cells.cellattr-module.html#debug,Function family.debug()=cells.family-module.html#debug,Function model.debug()=cells.model-module.html#debug,Function synapse.debug()=cells.synapse-module.html#debug'); return false;">debug</a></span></span><span class="py-op">(</span><span class="py-string">"              kwargs:"</span><span class="py-op">,</span> <span class="py-name">str</span><span class="py-op">(</span><span class="py-name">kwargs</span><span class="py-op">)</span><span class="py-op">)</span> </span>
<span class="lineno">182</span>  <span class="py-line">        <span class="py-comment"># figure out what type the user wants:</span> </span>
<span class="lineno">183</span>  <span class="py-line"><span class="py-comment"></span>        <span class="py-keyword">if</span> <span class="py-name">kwargs</span><span class="py-op">.</span><span class="py-name">has_key</span><span class="py-op">(</span><span class="py-string">'celltype'</span><span class="py-op">)</span><span class="py-op">:</span> </span>
<span class="lineno">184</span>  <span class="py-line">            <span class="py-name">celltype</span> <span class="py-op">=</span> <span class="py-name">kwargs</span><span class="py-op">[</span><span class="py-string">"celltype"</span><span class="py-op">]</span> </span>
<span class="lineno">185</span>  <span class="py-line">        <span class="py-keyword">elif</span> <span class="py-name">kwargs</span><span class="py-op">.</span><span class="py-name">has_key</span><span class="py-op">(</span><span class="py-string">'rule'</span><span class="py-op">)</span><span class="py-op">:</span>  <span class="py-comment"># it's a rule-cell.</span> </span>
<span class="lineno">186</span>  <span class="py-line">            <span class="py-name">celltype</span> <span class="py-op">=</span> <a title="cells.cell.RuleCell" class="py-name" href="cells.cell.RuleCell-class.html">RuleCell</a> </span>
<span class="lineno">187</span>  <span class="py-line">        <span class="py-keyword">elif</span> <span class="py-name">kwargs</span><span class="py-op">.</span><span class="py-name">has_key</span><span class="py-op">(</span><span class="py-string">'value'</span><span class="py-op">)</span><span class="py-op">:</span>     <span class="py-comment"># it's a value-cell</span> </span>
<span class="lineno">188</span>  <span class="py-line">            <span class="py-name">celltype</span> <span class="py-op">=</span> <a title="cells.cell.InputCell" class="py-name" href="cells.cell.InputCell-class.html">InputCell</a> </span>
<span class="lineno">189</span>  <span class="py-line">        <span class="py-keyword">else</span><span class="py-op">:</span> </span>
<span class="lineno">190</span>  <span class="py-line">            <span class="py-keyword">raise</span> <span class="py-name">Exception</span><span class="py-op">(</span><span class="py-string">"Could not determine target type for cell "</span> <span class="py-op">+</span> </span>
<span class="lineno">191</span>  <span class="py-line">                            <span class="py-string">"given owner: "</span> <span class="py-op">+</span> <span class="py-name">str</span><span class="py-op">(</span><span class="py-name">owner</span><span class="py-op">)</span> <span class="py-op">+</span> </span>
<span class="lineno">192</span>  <span class="py-line">                            <span class="py-string">", name: "</span> <span class="py-op">+</span> <span class="py-name">self</span><span class="py-op">.</span><span class="py-name">name</span> <span class="py-op">+</span> </span>
<span class="lineno">193</span>  <span class="py-line">                            <span class="py-string">", args:"</span> <span class="py-op">+</span> <span class="py-name">str</span><span class="py-op">(</span><span class="py-name">args</span><span class="py-op">)</span> <span class="py-op">+</span> </span>
<span class="lineno">194</span>  <span class="py-line">                            <span class="py-string">", kwargs:"</span> <span class="py-op">+</span> <span class="py-name">str</span><span class="py-op">(</span><span class="py-name">kwargs</span><span class="py-op">)</span><span class="py-op">)</span> </span>
<span class="lineno">195</span>  <span class="py-line"> </span>
<span class="lineno">196</span>  <span class="py-line">        <span class="py-name">kwargs</span><span class="py-op">[</span><span class="py-string">'name'</span><span class="py-op">]</span> <span class="py-op">=</span> <span class="py-name">self</span><span class="py-op">.</span><span class="py-name">name</span> </span>
<span class="lineno">197</span>  <span class="py-line"> </span>
<span class="lineno">198</span>  <span class="py-line">        <span class="py-keyword">return</span> <span class="py-name">celltype</span><span class="py-op">(</span><span class="py-name">owner</span><span class="py-op">,</span> <span class="py-op">*</span><span class="py-name">args</span><span class="py-op">,</span> <span class="py-op">**</span><span class="py-name">kwargs</span><span class="py-op">)</span> </span>
</div></div><span class="lineno">199</span>  <span class="py-line"> </span><script type="text/javascript">
<!--
expandto(location.href);
// -->
</script>
</pre>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar"
        href="cells-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar"
        href="trees.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar"
        href="indices.html">Index</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar"
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">Generated by Epydoc
        3.0alpha2 on Sun Jul 23 14:37:59 2006</td>
    <td align="right" class="footer">
      <a href="http://epydoc.sourceforge.net">http://epydoc.sf.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie()
  // -->
</script>
  
</body>
</html>
